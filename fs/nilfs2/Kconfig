config NILFS2_FS
	tristate "NILFS2 file system support"
	select CRC32
	help
	  NILFS2 is a log-structured file system (LFS) supporting continuous
	  snapshotting.  In addition to versioning capability of the entire
	  file system, users can even restore files mistakenly overwritten or
	  destroyed just a few seconds ago.  Since this file system can keep
	  consistency like conventional LFS, it achieves quick recovery after
	  system crashes.

	  NILFS2 creates a number of checkpoints every few seconds or per
	  synchronous write basis (unless there is no change).  Users can
	  select significant versions among continuously created checkpoints,
	  and can change them into snapshots which will be preserved for long
	  periods until they are changed back to checkpoints.  Each
	  snapshot is mountable as a read-only file system concurrently with
	  its writable mount, and this feature is convenient for online backup.

	  Some features including atime, extended attributes, and POSIX ACLs,
	  are not supported yet.

	  To compile this file system support as a module, choose M here: the
	  module will be called nilfs2.  If unsure, say N.

if NILFS2_FS

config NILFS2_DEBUG
	bool "NILFS2 debugging"
	default n
	help
	  If you are experiencing any problems with the NILFS2 filesystem, say
	  Y here.  This will result in additional debugging messages to be
	  written to the system log.  Under normal circumstances, this
	  results in very little overhead.

if NILFS2_DEBUG

config NILFS2_DEBUG_SUBSYSTEMS
	bool "Enable output from subsystems"
	depends on NILFS2_DEBUG
	default n
	help
	  This option groups opportunity to enable debugging output from
	  concrete NILFS2 driver's subsystems.

if NILFS2_DEBUG_SUBSYSTEMS

config NILFS2_DEBUG_BASE_OPERATIONS
	bool "Enable base operations subsystem debugging output"
	default n
	help
	  This option enables debugging output in super.c, the_nilfs.c,
	  namei.c, ioctl.c, inode.c, file.c, dir.c modules.

config NILFS2_DEBUG_MDT_FILES
	bool "Enable metadata (MDT) files subsystem debugging output"
	default n
	help
	  This option enables debugging output in mdt.c, cpfile.c, dat.c,
	  ifile.c, sufile.c modules.

config NILFS2_DEBUG_SEGMENTS_SUBSYSTEM
	bool "Enable segments subsystem debugging output"
	default n
	help
	  This option enables debugging output in segbuf.c, segment.c
	  modules.

config NILFS2_DEBUG_GC_SUBSYSTEM
	bool "Enable GC subsystem debugging output"
	default n
	help
	  This option enables debugging output in gcinode.c module.

config NILFS2_DEBUG_RECOVERY_SUBSYSTEM
	bool "Enable recovery subsystem debugging output"
	default n
	help
	  This option enables debugging output in recovery.c module.

config NILFS2_DEBUG_BLOCK_MAPPING
	bool "Enable block mapping subsystem debugging output"
	default n
	help
	  This option enables debugging output in alloc.c, bmap.c, btnode.c,
	  btree.c, direct.c modules.

config NILFS2_DEBUG_BUFFER_MANAGEMENT
	bool "Enable buffer/page management subsystem debugging output"
	default n
	help
	  This option enables debugging output in page.c module.

endif # NILFS2_DEBUG_SUBSYSTEMS

endif # NILFS2_DEBUG

endif # NILFS2_FS
